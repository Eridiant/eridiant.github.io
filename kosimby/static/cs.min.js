!function(e,t){for(var n in t)e[n]=t[n]}(this,function(e){function t(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n=window.webpackJsonp;window.webpackJsonp=function(i,r){for(var s,a,l=0,c=[];l<i.length;l++)a=i[l],o[a]&&c.push.apply(c,o[a]),o[a]=0;for(s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s]);for(n&&n(i,r);c.length;)c.shift().call(null,t)};var i={},o={0:0};return t.e=function(e,n){if(0===o[e])return n.call(null,t);if(void 0!==o[e])o[e].push(n);else{o[e]=[n];var i=document.getElementsByTagName("head")[0],r=document.createElement("script");r.type="text/javascript",r.charset="utf-8",r.async=!0,r.src=t.p+"comagic.widgets.min.js",i.appendChild(r)}},t.m=e,t.c=i,t.p="",t(0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(6),r=n(9),s=n(13),a=n(12),l=n(17),c=n(24),u=n(31),d=n(32),p=n(2),f=p.essential.apply,m=s.SiteSettings.info,h=n(26),g=n(34),v=n(35),_=n(36),y=n(37);t.Comagic=u.API,t.ComagicWidget={},t.Comagic.Captcha={},t.ComagicWidget.openSitePhonePanel=t.Comagic.openVASitePhonePanel,t.Comagic.UI={},t.Comagic.UI.registerViewController=v.registerViewController,o.EventBus.on("ss:waitforloadcorescripts",function(e,r,a){var l=function(e){return r.widgets.hasOwnProperty(e)&&null!==r.widgets[e]},u=["personal_form","call_generator","offline_message_generator"];if(r.widgets.hasOwnProperty("lead")){delete r.widgets.lead;for(var v=0;v<u.length;v++)r.widgets[u[v]]={}}h.init(g.DEFAULT_WIDGET_VIEWS_OPTIONS,"prod"),c.Core.init(r,a),n.p=new p.essential.URL(a).replace({path:"/widget/js/"});var _=r.comagic_web_url,y=""+_+r.api.path+r.api.key+"/";d.ComagicWebApi.init(y),n.e(1,function(){var e=n(38).Ws,c=n(103).ConsultantController,u=n(108).LeadController,d=n(109).SitephoneController,p=n(110).ConsultantApi,h=n(104).Hub;f(t.Comagic,p),f(t.Comagic.UI,n(111)),f(t.Comagic.UI,n(113)),f(t.ComagicWidget,{sitePhoneCall:d.startCall}),t.Comagic.Captcha.get_captcha=t.Comagic.getCaptcha,i.Queue.registerAndProcess(["uiApiLoaded"],{__commands:["uiApiLoaded"],uiApiLoaded:function(e){return e&&e()}},!0),l("sitephone")&&d.init({site_key:m().key,server_url:r.widgets.sitephone.server_url,comagic_web_url:m().web_host,is_analytics_enabled:r.widgets.sitephone.is_analytics_enabled,is_staff_group_enabled:!!r.widgets.sitephone.group_title,is_captcha_enabled:r.widgets.sitephone.is_captcha_enabled},a),i.Queue.push("waitForTrackViewAndRun",function(){(l("consultant")||l("personal_form"))&&e.onSession(s.SiteSettings.info().host||r.server_url);var t=l("consultant");t?(c.init(a),u.init(a)):r.widgets.hasOwnProperty("personal_form")&&u.init(a),h.send("consultant","init",{get_history:!c.isChatHistoryExist(),get_vcard:t}),o.EventBus.on("ws:timetoreinit",function(){h.send("consultant","reinit")})})})}),s.SiteSettings.init(),o.EventBus.on("aly:trackview",l.CallTracking.onAlyTrackview),o.EventBus.on("aly:trackview",r.Events.onAlyTrackview),i.Queue.push("waitForTrackViewAndRun",_.Ym.run),o.EventBus.on("aly:trackview",y.VisitorIdEmbedder.run),i.Queue.push("waitForSiteSettingsAndRun",function(){a.Analytics.init()})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(2),r=n(3);!function(e){function t(e,t,n,i){var o=e[t];if("function"==typeof o)return o.apply(n||e,i)}function n(e,t,n){_.push([].slice.call(arguments))}function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var e=[].concat(arguments);e.unshift("[Queue]"),r.util.log.apply(r.util,e)}function s(e,t){return o.essential.isArray(e)?v.push(e):this.push([e,o.essential.toArray(t)])}function a(e){if(o.essential.isUndefined(e))return v.shift();if(o.essential.isNumber(e))return v.splice(e,1)[0];if(o.essential.isString(e))for(var t,n=0;t=v[n];n++)if(o.essential.isArray(t)&&t[0]===e)return this.shift(n)}function l(e){if(o.essential.isUndefined(e))return v[0];if(o.essential.isNumber(e))return v[e];if(o.essential.isString(e))for(var t,n=0;t=v[n];n++)if(o.essential.isArray(t)&&t[0]===e)return t;return null}function c(e,t){for(var n;n=v.shift();)this._process(n,e,t)}function u(e,t,r,s){i("going to process commands",e,"of",t),o.essential.isBoolean(r)&&(s=r,r=void 0),s&&n(e,t,r),this._processCommands(e,t,r)}function d(e){for(var t,n=e.__commands,i=0;t=n[i];i++){if(y.hasOwnProperty(t))throw{message:'uLiB.util.Queue detected command conflict: "'+t+'"',command:t,existingObj:y[t],newObj:e};y[t]=e}}function p(e,t,n,i){this.register(t),this.processCommands(e,t,n,i)}function f(e,n,s){if(!e)return null;e=o.essential.copyArray(e);var a,l;return a=e.shift(),l=1===e.length&&o.essential.isArray(e[0])?e[0]:e,i(r.util.sformat("processing {0}({1})",a,l)),t(n,a,s||n,l)}function m(e,t,n){if(this.length)for(var o,r,s=0;o=e[s];s++)t.__commands&&t.__commands.indexOf(o)!==-1&&(r=this.shift(o),this._process(r,t,n)===!1&&(i("smth. wrong with",o,r,"pushing back"),this.push(r)))}var h=window,g=["Comagic","__cs"],v=[],_=[],y={};e.maybeCall=t,e.addCommandToWatchFor=n,e.log=i;for(var b,w=0;b=g[w];w++)h[b]&&o.essential.isArray(h[b])&&(v=v.concat(h[b]));e.length=v.length,e.push=s,e.shift=a,e.peek=l,e.process=c,e.processCommands=u,e.register=d,e.registerAndProcess=p,e._process=f,e._processCommands=m,window.setInterval(function(){for(var t,n=0;t=_[n];n++)m.apply(e,t)},100)}(i=t.Queue||(t.Queue={}))},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n;!function(e){function t(e,n,i){if(i&&t(e,i),e&&n&&"object"==typeof n)for(var o in n)n.hasOwnProperty(o)&&(e[o]=n[o]);return e}function n(e,i){var o=t({},e);if(i)for(var r in i)o.hasOwnProperty(r)&&a(o[r])&&a(i[r])?o[r]=n(o[r],i[r]):o[r]=i[r];return o}function i(e,t){for(var n,i=t||window,o=e.split("."),r=0;n=o[r];r++)i=i[n]=i[n]||{};return i}function o(e,t){var n;if(t=t||"","string"==typeof e)n=e;else{var i=[];for(var o in e)e.hasOwnProperty(o)&&i.push(o+"="+encodeURIComponent(e[o]));n=i.join("&")}return t&&n.length&&n.indexOf(t)===-1&&(n=t+n),n}function r(e,t){var n={};for(var i in e)t(e[i])||(n[i]=e[i]);return n}function s(e){return"[object Array]"===Object.prototype.toString.call(e)}function a(e){return null!==e&&"object"==typeof e}function l(e){return e===!!e}function c(e){return"number"==typeof e}function u(e){return"string"==typeof e}function d(e){return""===e}function p(e){return"function"==typeof e}function f(e){return void 0===e}function m(e){return e instanceof HTMLElement}function h(e){return/^(?:\w+:)?\/\/([^\s\.]+\.\S{2}|localhost[\:?\d]*)\S*$/.test(e)}function g(e){return f(e)||null===e||""===e||s(e)&&0===e.length||a(e)&&v(e)}function v(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function _(e){return"[object Arguments]"===Object.prototype.toString.call(e)}function y(e){return s(e)?e:_(e)?Array.prototype.slice.call(e):[e]}function b(e){for(var t=new Array(e.length),n=e.length;n--;)t[n]=e[n];return t}function w(e){function t(){var e=i.exec(n.url);n.protocol=e[2]||"https",n.host=e[5]||"",n.port=e[6]||"",n.path=e[7]||"/",n.query=e[8]||"",n.hash=e[10]||""}var n=this,i=new RegExp("^(([^:/\\?#]+):)?(//(([^:/\\?#]*)(?::([^/\\?#]*))?))?([^\\?#]*)(\\?([^#]*))?(#(.*))?$");this.url=e,this.replace=function(e){e=e||{};var t=e.protocol||n.protocol,i=e.host||n.host,r=e.port||n.port,s=e.path||n.path,a=o(e.query||n.query,"?"),l=e.hash||n.hash;return(t?t+":":t)+"//"+i+(r?":"+r:r)+s+a+(l?"#"+l:l)},this.toString=function(){return this.replace()},t()}e.apply=t,e.mergeObjects=n,e.ns=i,e.ensureQueryString=o,e.filterObjectByFn=r,e.isArray=s,e.isObject=a,e.isBoolean=l,e.isNumber=c,e.isString=u,e.isEmptyString=d,e.isFunction=p,e.isUndefined=f,e.isHTMLElement=m,e.isUrl=h,e.isEmpty=g,e.isObjectEmpty=v,e.isArguments=_,e.toArray=y,e.copyArray=b,e.URL=w}(n=t.essential||(t.essential={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(2),r=n(4),s=n(6),a=n(8);!function(e){function t(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var t=[].slice.call(arguments),i=Te[t[0]]||"";t.unshift(i),t.unshift("%c"+e.getTimeStr()),e.__debug&&Ce.console&&console.log.apply&&console.log.apply(console,t)}function n(){var t=[].slice.call(arguments);t.unshift("[Comagic]"),e.__debug&&console.error.apply(console,t)}function i(e){var t=this.__debugparams;return!e||"encodejson"==e&&this.isObject(t)?"encodejson"==e?JSON.stringify(t):t:this.isObject(t)&&t[e]||""}function l(e){return e.replace(/(?:^|[-_])(\w)/g,function(e,t){return t?t.toUpperCase():""})}function c(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var o,r=arguments[0],s=arguments[1];if(this.isObject(s)){var a,l,c={};for(o=/{([^}]+)}/g;a=o.exec(r);)a=a[1],l=s[a],void 0!==l&&(("cls"==a||this.endsWith(a,"Cls"))&&(l=this.getCssSelector(l,!0)),c[a]=l);for(var u in c)c.hasOwnProperty(u)&&(o=new RegExp("\\{"+u+"\\}","gm"),r=r.replace(o,c[u]))}else for(var d=0;d<arguments.length-1;d++)o=new RegExp("\\{"+d+"\\}","gm"),r=r.replace(o,arguments[d+1]);return r}function u(e,t){return e.indexOf(t,e.length-t.length)!=-1}function d(e,t){if(o.essential.isArray(t)){for(var n,i=0;n=t[i];i++)if(this.startsWith(e,n))return!0;return!1}return 0==e.indexOf(t)}function p(e,t){return this.endsWith(e,t)?e:e+t}function f(e){return e.replace(/(<([^>]+)>)/gi,"")}function m(e){return(""+e).replace(this.C.RE_HREF,function(){var e=arguments;return c('{0}<a href="{1}{2}">{2}</a>',e[1],e[3]||"",encodeURI(e[5]))}).replace('href="www.','href="http://www.').replace('href="://','href="http://')}function h(e){return e.replace(/\n\r/g,"<br/>").replace(/\r\n/g,"<br/>").replace(/\n/g,"<br/>").replace(/\r/g,"<br/>")}function g(e){return e.replace("/<br/>/g","\n")}function v(e){return e=""+e,e.replace(/\s/g,"")}function _(e,t){for(var n=e||"",i=n.split(" "),o=[""],r=0;r<i.length;r++){var s=o[o.length-1];!s.length||s.length+i[r].length<t-1?o[o.length-1]=[s,i[r]].join(" ").trim():o.push(i[r])}return o}function y(e){return e.len?e.len:e.prefix?e.prefix.length-1:3}function b(e){var t=e.mask||"###-##-##",n=e.format||"+{country} ({city}) {phone}",i=this.getCityLength(e),o=e.raw&&e.raw.substr(i+1),r=t&&(t.match(/#/g)||[]).length,s=o&&o.length,a=e.text,l=0;if(!o&&a)return a;if(r>s)for(var c=0;c<r-s;c++)t=t.replace("#","");else if(r<s)for(var c=0;c<s-r;c++)t="#"+t;return o=t.replace(/#/g,function(){return o[l++]||""}),this.sformat(n,{country:e.raw.substr(0,1),city:e.raw.substr(1,i),phone:o})}function w(e){return/\S/.test(e)}function S(e){var t=e.getDate(),n=e.getMonth()+1,i=e.getFullYear();return""+i+"-"+(n<=9?"0"+n:n)+"-"+(t<=9?"0"+t:t)}function k(e){e=e||new Date;var t=e.getHours(),n=e.getMinutes();return t<10&&(t="0"+t),n<10&&(n="0"+n),t+":"+n}function O(e,t){var n;return"number"==typeof e?n=new Date(1e3*e):(t=t||0,e=e.split(/(?:\s|T)/),e[0]=e[0].split("."),e[1]=e[1].split(":"),n=new Date(e[0][2],e[0][1],e[0][0],e[1][0],e[1][1],e[1][2])),n.setTime(e.getTime()-1e3*t),n}function E(){return+new Date}function P(){return this.timeDelta}function I(e){this.timeDelta=e}function C(e,t,n){for(var i=n||0,o=e.length;i<o;i++)if(e[i]===t)return i;return-1}function T(e,t){if(o.essential.isArray(t)){for(var n,i=0;n=t[i];i++)if(this.arrayIsContain(e,n))return!0;return!1}return this.arrayIndexOf(e,t)!==-1}function A(e,t,n){for(var i=0;i<e.length;i++)t.call(n,e[i],i,e)}function j(e,t,n){for(var i,o=[],r=0;i=e[r];r++)t.call(n||Ce,i)!==!1&&o.push(i);return o}function x(e,t){return this.arrayIndexOf(t,e)}function N(e,t,n){return function(){var i=[].slice.call(arguments);return e.apply(t,i.concat(n))}}function U(e,t,n){return function(){var i=e.apply(n,arguments);return i?(s.EventBus&&s.EventBus.fireEvent.apply(s.EventBus,["ulib:event"].concat(i)),t.apply(n,i)):null}}function R(e,t,n,i){return o.essential.isFunction(e)&&(t=e),o.essential.isObject(t)&&(n=t),o.essential.isString(t)&&o.essential.isObject(e)&&(t=e[t]),void 0===n&&o.essential.isObject(e)&&(n=e),o.essential.isArray(t)&&(i=t),o.essential.isArray(n)&&(i=n),o.essential.isFunction(t)?t.apply(n||this,i||[]):null}function M(e,t){this.isString(t)&&(t=this.getObjByName(t));var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.superclass=t.prototype}function D(e,t,n,i){var o=Array.prototype.slice.apply(arguments);if(e=o.shift(),t=o.shift(),n=o.shift()||[],this.isString(t)&&(t=this.getObjByName(t)),this.isString(n)&&(i=n,n=[]),!i)throw"Name of the mixin within the target must be specified";if(!t)throw"Cannot mix-in from undefined source";if(!e)throw"Cannot mix-in to undefined target";if(!e.prototype.hasOwnProperty("mixins")){var r=e.prototype.mixins;if(e.prototype.mixins={},r)for(var s in r)e.prototype.mixins[s]=r[s]}if(t=this.isFunction(t)?t.prototype:t,i&&(e.prototype.mixins[i]=t),n.length)for(var a=0,l=void 0;l=n[a];a++)e.prototype[l]=this.isFunction(t)?t.prototype[l]:t[l];else for(var l in t)e.prototype[l]=t[l]}function L(e,t){this.isArray(t)||(t=[t]);for(var n,i=0;n=t[i];i++){if(this.isString(n)&&(n=this.getObjByName(n)),e instanceof n)return!0;var o=e.mixins;if(o)for(var r,s=0;r=o[s];s++)if(e instanceof r)return!0}return!1}function F(e,t){for(var n in t)t.hasOwnProperty(n)&&void 0===e[n]&&(e[n]=t[n]);return e}function W(e,t){if(!e)return!1;for(var n,i=t||Ce,o=e.split("."),r=0;n=o[r];r++)if(!(i=i[n]))return!1;return!0}function H(e){for(var t,n=Ce,i=e.split("."),o=[],r=0;t=i[r];r++){if(!n[t])return this.error("Property",t,"of",o.join("."),"is not an Object"),null;n=n[t],o.push(t)}return n}function B(e){return decodeURI((new RegExp(e+"=(.+?)(&|$)").exec(Ce.location.search)||[,""])[1])}function V(e){return decodeURI((new RegExp(e+"=(.+?)(&|$)").exec(Ce.location.hash)||[,""])[1])}function q(e){if(!e||"object"!=typeof e)return e;var t,n,i="function"==typeof e.pop?[]:{};for(t in e)e.hasOwnProperty(t)&&(n=e[t],n&&"object"==typeof n?i[t]=this.clone(n):i[t]=n);return i}function z(e,t){return this.isString(t)&&(t=this.getObjByName(t)),e instanceof t}function G(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}function Q(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n])}function Y(e,t){var n=document.createElement("script");return n.src=new o.essential.URL(e).toString(),n.async=!0,n.onload=t,document.head.appendChild(n),n}function J(e,t){var n=e[t];return delete e[t],n}function Z(e){var t=this.sessionStorage().getItem(e);null===t&&(t=this.localStorage().getItem(e));var n=JSON.parse(t);return n&&n.ezstorage?n.value:n}function X(e,t,n){return(n?this.localStorage():this.sessionStorage()).setItem(e,JSON.stringify(t))}function K(e){var t="testtesttest";e.setItem(t,"1"),e.removeItem(t)}function $(){try{return this._checkStorage(window.localStorage),window.localStorage}catch(e){return this.log("window.localStorage not available. emulate"),this.apply(this._localStorage,this._storageApi)}}function ee(){try{return this._checkStorage(window.sessionStorage),window.sessionStorage}catch(e){return this.log("window.sessionStorage not available. emulate"),this.apply(this._sessionStorage,this._storageApi)}}function te(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}function ne(e){return(e<10?"0":"")+e}function ie(e){return void 0===e&&(e=new Date),this.padNumber(e.getHours())+":"+this.padNumber(e.getMinutes())+":"+this.padNumber(e.getSeconds())+"."+e.getMilliseconds()}function oe(){return Math.round((new Date).getTime()/1e3)}function re(e){return 1e3*Math.pow(2,e)+Math.round(1e3*Math.random())}function se(e,t){return Math.floor(Math.random()*(t-e+1))+e}function ae(e){for(var t=e.substring(1).split("&"),n={},i=0;i<t.length;i++){var o=t[i].split("=");if(o[0])try{n[o[0]]=decodeURIComponent(o[1])}catch(e){}}return n}function le(){return ae(window.location.search)}function ce(){return ae(window.location.hash)}function ue(e){if(0===e.indexOf("/")){var t=/(\w+)\[(\d+)\]/,n=e.split("/");n.splice(0,1);for(var i=0;i<n.length;i++)t.test(n[i])&&(n[i]=n[i].replace(t,function(e,t,n){return t+":eq("+(parseInt(n,10)-1)+")"}));return n.join(" > ")}return e}function de(){var e=ee();if(e)return e.getItem("cmg:debugExternalChatComagicWebUrl")}function pe(){return e.C.IS_PHONE?"mobile":e.C.IS_TABLET?"tablet":"desktop"}function fe(e){return e===Object(e)}function me(e){var t=document.createElement("comagic");return t.innerHTML=e,t.childNodes[0]}function he(e){var t=document.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href",e),t}function ge(t){var n=r.CookieShop;try{void 0===t?e.__debug=void 0!==le()._comagic_set_debug?le()._comagic_set_debug:void 0!==ce()._comagic_set_debug?ce()._comagic_set_debug:C([1,!0,"true","1"],n.get(n.DEBUG))!==-1:(e.__debug=C([1,!0,"true","1"],t)!==-1,n.set(n.DEBUG,t,-1))}catch(e){console.log(e)}}function ve(e){return e=encodeURIComponent(e||document.location.href),0===decodeURIComponent(e).indexOf("file:///")}function _e(e){if(null===e)return"null";var t=typeof e;if("undefined"===t||"string"===t||"number"===t||"boolean"===t)return t;var n=Object.prototype.toString,i=n.call(e);if(void 0!==e.length&&"function"!=typeof e)return"array";switch(i){case"[object Array]":return"array";case"[object Date]":return"date";case"[object Boolean]":return"boolean";case"[object Number]":return"number";case"[object RegExp]":return"regexp"}return"function"===t?"function":"object"===t?"object":void 0}function ye(e,t){e=e||{};for(var n in t)"object"==typeof t[n]?e[n]=ye(e[n],t[n]):e[n]=t[n];return e}function be(e){return"number"==typeof e&&isFinite(e)}function we(e){return"string"==typeof e}function Se(e,t){var n=a.KEY.CODES;switch(e){case n.ZERO:case n.ONE:case n.TWO:case n.THREE:case n.FOUR:case n.FIVE:case n.SIX:case n.SEVEN:case n.EIGHT:case n.NINE:case n.NUM_ZERO:case n.NUM_ONE:case n.NUM_TWO:case n.NUM_THREE:case n.NUM_FOUR:case n.NUM_FIVE:case n.NUM_SIX:case n.NUM_SEVEN:case n.NUM_EIGHT:case n.NUM_NINE:if(void 0!==t&&void 0!==t.keyIdentifier)switch(t.keyIdentifier){case"U+0030":case"U+0031":case"U+0032":case"U+0033":case"U+0034":case"U+0035":case"U+0036":case"U+0037":case"U+0038":case"U+0039":return!0;default:return!1}return!0;default:return!1}}function ke(e,t){e=e.browserEvent||e;var n=e["page"+t];return n||0===n||(n=e["client"+t]||0),n}function Oe(e){return[ke(e,"X"),ke(e,"Y")]}function Ee(e){return/[^\u0000-\u00ff]/.test(e)}function Pe(){this.__debugparams=this.getURLParameter("bannerdebug"),this.__debugger=2==this.getURLParameter("bannerdebug");try{this.__debugparams=JSON.parse(this.__debugparams)}catch(e){this.log("Cannot parse debug params. Going to plain debug mode.")}var e=this.getURLParameter("time_delta");""!==e&&this.dSetTimeDelta(e)}var Ie,Ce=window,Te=(Ce.__cs,{"[Ws]":"background: #88FF88","[Queue]":"background: #FF8866","[Aly]":"background: #FFFF66","[CallTracking]":"background: #8181F7","[PhoneReplacer]":"background: #81BEF7","[DynamicalTracking]":"background: #81FFF7","[Lead]":"background: #BDBDBD"});!function(e){e.IS_IE_LT_11=!!Function("/*@cc_on return true@*/")(),e.IS_IE_LT_10=!window.navigator.msPointerEnabled&&!!Function("/*@cc_on return true@*/")(),e.IS_IE_LT_9=!Ce.document.addEventListener,e.IS_IE_LT_8=!Ce.document.querySelector,e.IS_TOUCH_DEVICE=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(navigator.userAgent||navigator.vendor||window.opera)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test((navigator.userAgent||navigator.vendor||window.opera).substr(0,4)),e.IS_PHONE=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(navigator.userAgent||navigator.vendor||window.opera)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test((navigator.userAgent||navigator.vendor||window.opera).substr(0,4)),e.IS_TABLET=e.IS_TOUCH_DEVICE&&!e.IS_PHONE,e.IS_IOS=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].indexOf(Ce.navigator.platform)!==-1,e.IS_ANDROID=navigator.userAgent.toLowerCase().indexOf("android")!==-1,e.IS_FIREFOX=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,e.RE_EMAIL=/^(\w+)([\-+.][\w]+)*@(\w[\-\w]*\.){1,5}([A-Za-z]){2,6}$/,e.RE_PHONE=/^\d{11}$/,e.RE_HREF=/(^|\s)(((?:http|https|ftp|):\/\/(?:[^:]+:[^@]+@)?)|(.{0}(?=www\.)))([^\s]+)+/gim,e.ZZZZZZ="ZZZZZZ",e.VALID_FILE_EXTENSIONS=["png","xpm","jpg","doc","docx","txt","xls","xlsx","csv","odt","ods","pdf","djvu","xml","fb2","epub"]}(Ie=e.C||(e.C={})),e.log=t,e.error=n,e.getDebugParam=i,e.camelize=l,e.sformat=c,e.endsWith=u,e.startsWith=d,e.ensureEndsWith=p,e.stripTags=f,e.textLinksToHtml=m,e.crLfToBr=h,e.brToCrLf=g,e.strim=v,e.getChunks=_,e.getCityLength=y,e.formatPhone=b,e.isNotContainsOnlyWhitespaces=w,e.dformat=S,e.tformat=k,e.dApplyTimeDelta=O,e.dnow=E,e.dGetTimeDelta=P,e.dSetTimeDelta=I,e.arrayIndexOf=C,e.arrayIsContain=T,e.arrayForEach=A,e.arrayFilter=j,e.inArray=x,e.bind=N,e.wrapEvent=U,e.maybeCall=R,e.extend=M,e.mixIn=D,e.isinstance=L,e.applyIf=F,e.isNs=W,e.getObjByName=H,e.getURLParameter=B,e.getHashParameter=V,e.clone=q,e.isInstance=z,e.okeys=G,e.ovalues=Q,e.loadScript=Y,e.opop=J,e.storageGet=Z,e.storageSet=X;var Ae;!function(e){e.items={}}(Ae=e._localStorage||(e._localStorage={}));var je;!function(e){e.items={}}(je=e._sessionStorage||(e._sessionStorage={}));var xe;!function(e){function t(e){var t=this.items[e];return void 0===t?null:t}function n(e,t){this.items[e]=""+t}function i(e){delete this.items[e]}e.getItem=t,e.setItem=n,e.removeItem=i}(xe=e._storageApi||(e._storageApi={})),e._checkStorage=K,e.localStorage=$,e.sessionStorage=ee,e.uuid=te,e.padNumber=ne,e.getTimeStr=ie,e.getTimestamp=oe,e.getExponentialBackoff=re,e.getRandomInt=se,e.getUrlParams=ae,e.getUrlQuery=le,e.getUrlHash=ce,e.prepareSelector=ue,e.getDebugExternalChatComagicWebUrl=de,e.getDeviceType=pe,e.isObject=fe,e.createElFromHtml=me,e.createLinkTag=he,e.setDebug=ge,e.isUriLocal=ve,e.typeOf=_e,e.apply=ye,e.isNumber=be,e.isString=we;var Ne=navigator.userAgent.toLocaleLowerCase();e.isOpera=/opera/i.test(Ne),e.isWebKit=/webkit/i.test(Ne),e.isGecko=!e.isWebKit&&/gecko/i.test(Ne),e.isChrome=/chrome/i.test(Ne),e.isIE=!e.isOpera&&/msie/i.test(Ne)||/edge/i.test(Ne),e.isSafari=/safari/i.test(Ne)&&!/chrome/i.test(Ne),e.isiPhone=/iphone/i.test(Ne),e.isAndroid=/android/i.test(Ne),e.isiPad=/ipad/.test(Ne),e.isKeyNum=Se,e.getXY=Oe,e.isTouch=void 0!==document.ontouchstart,e.containsNonLatinCodepoints=Ee,e.init=Pe,e.init()}(i=t.util||(t.util={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(5);!function(e){function t(e){_=e()}function n(){this._expires||(this._expires={},this._expires[this.DEBUG]=-1,this._expires[this.DT]=18e5,this._expires[this.WS_OFFLINE]=18e5,this._expires[this.ALY_OFFLINE]=18e5,this._expires[this.SESSION]=18e5,this._expires[this.COMAGIC_ID]=63072e6)}function i(e){return this._expires[e]}function r(){this._setupExpires()}function s(e){return e+_}function a(e,t,n){return o.cookie.set(this.getName(e),t,n||this._getExpires(e))}function l(e){return o.cookie.get(this.getName(e))}function c(e){return o.cookie.getAll(this.getName(e))}function u(e){return this.remove(e)}function d(e){return o.cookie.remove(this.getName(e))}function p(){var e=this.getComagicId();return e?e.split(this._ciSeparator)[0]:null}function f(){var e=this.get(this.VISITOR);return e=e?e.split(this._separator):[],{key:e[0],id:e[1]}}function m(){var e=this.getComagicId();return e?e.split(this._ciSeparator)[1]:null}function h(){var e=this.get(this.SESSION);return e=e?e.split(this._separator):[],{key:e[0]}}function g(e){this.set(this.COMAGIC_ID,e)}function v(){var e,t=this.getAll(this.COMAGIC_ID);if(!t.length)return null;e=t.shift();for(var n,i=0;n=t[i];i++)+n.split(this._ciSeparator)[2]>+e.split(this._ciSeparator)[2]&&(e=n);return e}var _;e.BANNER_STATE="_comagic_banner_state",e.DEBUG="_comagic_debug",e.DT="_cmg_dt",e.WS_OFFLINE="_comagic_offline",e.ALY_OFFLINE="_comagic_aly_offline",e.PHONE_REPLACEMENT="_comagic_phr",e.COMAGIC_ID="_comagic_id",e.SESSION="_comagic_session",e.VISITOR="_comagic_visitor",e._separator="||",e._ciSeparator=".",e._expires=null,e.setUniquePostfix=t,e._setupExpires=n,e._getExpires=i,e.setup=r,e.getName=s,e.set=a,e.get=l,e.getAll=c,e.del=u,e.remove=d,e.getVisitorId=p,e.getVisitorObsolete=f,e.getSessionId=m,e.getSessionObsolete=h,e.setComagicId=g,e.getComagicId=v}(i=t.CookieShop||(t.CookieShop={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(2);!function(e){function t(e,t,n){o.essential.isUndefined(t)&&this.remove(e),n=n||63072e6;var i=new Date,r=[];i.setTime(i.getTime()+n),r.push(e+"="+encodeURIComponent(t)),r.push("path=/"),this.getDomain()&&r.push("domain="+this.getDomain()),n!=-1&&r.push("expires="+i.toUTCString()),document.cookie=r.join(";")}function n(e){var t=i.getAll(e);return t.length?t[0]:null}function r(e){for(var t,n=[],i=e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1"),o=new RegExp("(?:^|; )"+i+"=([^;]*)","g");t=o.exec(document.cookie);)n.push(decodeURIComponent(t[1]));return n}function s(e){var t=new Date(0).toUTCString();document.cookie=e+"=; expires="+t+"; domain="+i.getDomain()+"; path=/;"}function a(){return u}function l(e){u=e;var t="cmgtest";this.set(t,t),t!=this.get(t)&&(u=null),this.remove(t)}function c(){return navigator.cookieEnabled||"cookie"in document&&(document.cookie.length>0||(document.cookie="test").indexOf.call(document.cookie,"test")>-1)}var u=0==document.domain.indexOf("www.")?document.domain.substring(4):document.domain;e.set=t,e.get=n,e.getAll=r,e.remove=s,e.getDomain=a,e.setDomain=l,e.isEnabled=c}(i=t.cookie||(t.cookie={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(7);t.EventBus=new i.Observable},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=function(){function e(){this.initObservable()}return e.prototype.initObservable=function(){this.events={}},e.prototype.on=function(e,t,n){if(i.essential.isObject(e)){n=e.scope;for(var o in e)e.hasOwnProperty(o)&&this.on(o,e[o],n)}var r=this.events[e]||[];r.push({fn:t,scope:n}),this.events[e]=r},e.prototype.un=function(e,t){for(var n,i=this.events[e]||[],o=[],r=0;n=i[r];r++)n.fn!==t&&o.push(n);this.events[e]=o},e.prototype.fireEvent=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var o,r=Array.prototype.slice.apply(arguments),s=!0;e=r.shift(),o=this.events[e]||[];for(var a=0,l=void 0;l=o[a];a++)s=!1!==l.fn.apply(l.scope||this,r)&&s;return s},e.prototype.hasListeners=function(e){return!(!this.events[e]||!this.events[e].length)},e}();t.Observable=o},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n;!function(e){var t;!function(e){e[e.BACKSPACE=8]="BACKSPACE",e[e.TAB=9]="TAB",e[e.ENTER=13]="ENTER",e[e.RETURN=13]="RETURN",e[e.SHIFT=16]="SHIFT",e[e.CTRL=17]="CTRL",e[e.ALT=18]="ALT",e[e.ESC=27]="ESC",e[e.END=35]="END",e[e.HOME=36]="HOME",e[e.LEFT=37]="LEFT",e[e.UP=38]="UP",e[e.RIGHT=39]="RIGHT",e[e.DOWN=40]="DOWN",e[e.INSERT=45]="INSERT",e[e.DELETE=46]="DELETE",e[e.ZERO=48]="ZERO",e[e.ONE=49]="ONE",e[e.TWO=50]="TWO",e[e.THREE=51]="THREE",e[e.FOUR=52]="FOUR",e[e.FIVE=53]="FIVE",e[e.SIX=54]="SIX",e[e.SEVEN=55]="SEVEN",e[e.EIGHT=56]="EIGHT",e[e.NINE=57]="NINE",e[e.NUM_ZERO=96]="NUM_ZERO",e[e.NUM_ONE=97]="NUM_ONE",e[e.NUM_TWO=98]="NUM_TWO",e[e.NUM_THREE=99]="NUM_THREE",e[e.NUM_FOUR=100]="NUM_FOUR",e[e.NUM_FIVE=101]="NUM_FIVE",e[e.NUM_SIX=102]="NUM_SIX",e[e.NUM_SEVEN=103]="NUM_SEVEN",e[e.NUM_EIGHT=104]="NUM_EIGHT",e[e.NUM_NINE=105]="NUM_NINE",e[e.NUM_PLUS=107]="NUM_PLUS",e[e.NUM_MINUS=109]="NUM_MINUS",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.DOT=190]="DOT"}(t=e.CODES||(e.CODES={})),e.MAP={48:"0",49:1,50:2,51:3,52:4,53:5,54:6,55:7,56:8,57:9,96:0,97:1,98:2,99:3,100:4,101:5,102:6,103:7,104:8,105:9,107:"+",109:"-",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",190:"."}}(n=t.KEY||(t.KEY={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(3),r=n(10),s=n(11),a=n(12);!function(e){function t(e){o.util.log("Sending event notification, event:",e),
v(e)}function n(e){if(e){var t=r.dimension.getWindowScrollTop(),n=r.dimension.getWindowHeight()+t,i=r.dimension.offset(e).top,o=i+e.clientHeight;return o<=n&&i>=t}return!1}function i(e){for(var n in y)if(y.hasOwnProperty(n))for(var i,o=document.querySelectorAll(n),r=0;i=o[r];r++)if(e.target===i){t(y[n]);break}}function l(e){for(var n in b)if(b.hasOwnProperty(n))if(n==w){if(e.target.href&&e.target.href.indexOf(S)==-1){t(b[n]);break}}else if(e.target.href&&e.target.href.match(new RegExp(n))){t(b[n]);break}}function c(e){s.un(window,"scroll",c),t(_.scrollStart)}function u(e){r.dimension.getWindowScrollTop()+r.dimension.getWindowHeight()===r.dimension.getDocumentHeight()&&(s.un(window,"scroll",u),t(_.scrollEnd))}function d(e){for(var i in _.scrollTo)_.scrollTo.hasOwnProperty(i)&&n(i)&&(t(_.scrollTo[i]),delete _.scrollTo[i])}function p(e,t){var n=t,i=n.es,o=i&&i.ce,r=i&&i.le,s=i&&i.se,a=i&&i.tm;o&&f(o),r&&m(r),s&&h(s),a&&g(a)}function f(e){for(var t,n=0;t=e[n];n++)y[o.util.prepareSelector(e[n][1])]=e[n][0];s.on(document,"click",o.util.bind(i,this))}function m(e){for(var t,n=0;t=e[n];n++)b[t[1]]=t[0];s.on("a","click",o.util.bind(l,this))}function h(e){for(var t,n=o.util.bind(c,this),i=o.util.bind(u,this),r=0;t=e[r];r++)"comagic_scroll_start"==e[r][1]?(_.scrollStart=e[r][0],s.on(window,"scroll",n)):"comagic_scroll_end"==e[r][1]?(_.scrollEnd=e[r][0],s.on(window,"scroll",i)):_.scrollTo[o.util.prepareSelector(e[r][1])]=e[r][0];if(_.scrollTo){var a=o.util.bind(d,this);s.on(window,"scroll",a)}}function g(e){for(var n=function(e){setTimeout(function(){t(e[0])},1e3*e[1])},i=0,o=e;i<o.length;i++){var r=o[i];n(r)}}var v=a.Analytics.notifiOnEvent,_={scrollStart:null,scrollEnd:null,scrollTo:{}},y={},b={},w="_external_link_",S=0==document.location.host.indexOf("www.")?document.location.host.slice(4):document.location.host;e.onAlyTrackview=p}(i=t.Events||(t.Events={}))},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n;!function(e){function t(){return"undefined"!=typeof pageYOffset?pageYOffset:r.scrollTop}function n(){return window.innerHeight||a.clientHeight||r.clientHeight}function i(){return Math.max(r.scrollHeight,a.scrollHeight,r.offsetHeight,a.offsetHeight,r.clientHeight,a.clientHeight)}function o(e){for(var t={left:e.offsetLeft||0,top:e.offsetTop||0};e=e.offsetParent;)t.left+=e.offsetLeft,t.top+=e.offsetTop;return t}var r=document.body,s=document,a=s.documentElement;e.getWindowScrollTop=t,e.getWindowHeight=n,e.getDocumentHeight=i,e.offset=o}(n=t.dimension||(t.dimension={}))},function(e,t,n){"use strict";function i(e){var t=!1,n=!0,i=function(n){"readystatechange"==n.type&&"complete"!=d.readyState||(("load"==n.type?u:d)[h](g+n.type,i,!1),!t&&(t=!0)&&e.call(u,n.type||n))},o=function(){try{p.doScroll("left")}catch(e){return void setTimeout(o,50)}i("poll")};if("complete"===d.readyState||"loaded"===d.readyState||"interactive"===d.readyState)e.call(u,"lazy");else{if(!f&&p.doScroll){try{n=!u.frameElement}catch(e){}n&&o()}d[m](g+"DOMContentLoaded",i,!1),d[m](g+"readystatechange",i,!1),u[m](g+"load",i,!1)}}function o(e,t,n,i){if(c.essential.isString(t))for(var r,s=d.querySelectorAll(t),a=0;r=s[a];a++)o(e,r,n,i);else t[e?m:h](g+n,i,!0)}function r(e,t,n){o(!0,e,t,n)}function s(e,t,n){for(var i,o=0;i=t[o];o++)this.on(e,i,n)}function a(e,t,n){o(!1,e,t,n)}function l(e){i(e)}Object.defineProperty(t,"__esModule",{value:!0});var c=n(2),u=window,d=u.document,p=d.documentElement,f=d.addEventListener,m=f?"addEventListener":"attachEvent",h=f?"removeEventListener":"detachEvent",g=f?"":"on";t.contentLoaded=i,t.on=r,t.ons=s,t.un=a,t.ready=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(2),r=n(3),s=n(5),a=n(4),l=n(6),c=n(1),u=n(13),d=n(16),p=n(14);!function(e){function t(){if(Y.isUriLocal())return void Y.log("[Aly]","Local URI disallowed");var e=u.SiteSettings.params("analytics"),t=u.SiteSettings.info();return e?(B=t.key,D=e.server_url,L=e.session_ttl,d.UA.detect(Y.bind(U,this)),void g()):void Y.log("[Aly]","No params specified")}function n(){H=+new Date,f(),m(),Z.setTimeout(function(){i()},L),c.Queue.registerAndProcess(e.__commands,e,!0)}function i(){J.fireEvent("aly:stopsession",this),h()}function f(){F=!0}function m(){if(F){Z.clearTimeout(W);var e=6e4;W=setTimeout(function(){O()},e)}}function h(){Z.clearTimeout(W),F=!1}function g(){var e=x("/t/v/",{ur:document.location.href,ti:document.title.slice(0,1e3),re:document.referrer,la:navigator.language,sc:screen.width+"x"+screen.height,uc:d.UA.clientId||"",dv:r.util.getDeviceType()},M);return K=G,e}function v(e,t,n,i){return x("/t/e/",{ca:e,ac:t,la:n,va:i})}function _(e){return x("/t/se/",{ce:e})}function y(e,t){return x("/p/s/",{pn:e,pv:t})}function b(e,t){return x("/p/g/",{pn:e},t)}function w(e,t){return x("/p/h/",{pn:e},t)}function S(e){return x("/p/d/",{pn:e})}function k(e){return x("/ua/sc/",{uc:d.UA.clientId||e})}function O(){return x("/e/p/")}function E(e){return x("/e/e/",{ei:e})}function P(e){return x("/dct/pn/",{},e)}function I(e,t){var n=this,i=function(){e.call(n,o.essential.apply({session:X},t))};return q(X)?(Y.log("[Aly]","No analytics session. Wait a bit"),!1):void i()}function C(){var e=X.ci||a.CookieShop.getComagicId();return"undefined"===e&&(e=void 0),e}function T(){return X.hi}function A(){return X.ce}function j(e){if(e&&e.length)for(var t=0,n=void 0,i=void 0,o=void 0,r=e.length;t<r;t++)n=e[t],i=n.name,o=n.params,$[i].call(this,o)}function x(e,t,n){var i=this;void 0===t&&(t={}),Y.log("[Aly]",Y.sformat("request({0})",e,t,n));var r=N(e,t);for(var s in r)if(r.hasOwnProperty(s)){var a=r[s];o.essential.isEmpty(a)&&delete r[s]}return m(),p.ajax({url:D+e,crossDomain:!0,method:"GET",data:r,contentType:"application/json",complete:function(o){var r=JSON.parse(o.response);return r&&r.success?(R.apply(i,r.result),void(n&&n.apply(i,r.result))):(Y.log("[Aly]","Got unsuccessful response on "+e+": ",r),void J.fireEvent("aly:requesterror",i,e,t))}})}function N(e,t){var n={sk:B,t:V,ci:C(),hi:X.hi,_vi:a.CookieShop.getVisitorObsolete().id,_si:a.CookieShop.getSessionObsolete().key};return"/t/v/"===e&&delete n.hi,n.t||delete n.t,n.ci&&(delete n._vi,delete n._si),o.essential.apply(n,t)}function U(e){var t=function(){k(e)};K===G?c.Queue.push("waitForTrackViewAndRun",t):K===Q&&t()}function R(e,t,n){return Y.log("[Aly]","onRequestComplete(",e,t,n,")"),V=t,j(n),!0}function M(t){X=o.essential.apply({},t),X.cd&&s.cookie.setDomain(X.cd),X.ce===!1?a.CookieShop.set(a.CookieShop.ALY_OFFLINE,"2"):a.CookieShop.del(a.CookieShop.ALY_OFFLINE),X.ci&&a.CookieShop.setComagicId(X.ci),J.fireEvent("aly:trackview",e,X),K=Q,n()}var D,L,F,W,H,B,V,q=o.essential.isEmpty,z=0,G=1,Q=2,Y=r.util,J=l.EventBus,Z=window,X={},K=z;e.__commands=["waitForTrackViewAndRun","trackEvent","trackSysEvent","setProperty","getProperty","hasProperty","deleteProperty","extendDtPhoneReservationTime"],e.init=t,e.goOnSession=n,e.stopSession=i,e.enablePing=f,e.processPing=m,e.disablePing=h,e.trackView=g,e.trackEvent=v,e.trackSysEvent=_,e.setProperty=y,e.getProperty=b,e.hasProperty=w,e.deleteProperty=S,e.setUaClientId=k,e.ping=O,e.notifiOnEvent=E,e.extendDtPhoneReservationTime=P,e.waitForTrackViewAndRun=I,e.getComagicId=C,e.getHitId=T,e.isComagicEnabled=A,e.performCommands=j,e.request=x,e.composeParams=N,e.onUaDetected=U,e.onRequestComplete=R,e.onTrackView=M;var $;!function(t){function n(t){J.fireEvent("aly:hide_dt_phones",e,t)}function i(t){J.fireEvent("aly:enable_phone_replacement",e,t)}function o(t){J.fireEvent("aly:disable_phone_replacement",e,t)}t.hide_dt_phones=n,t.enable_phone_replacement=i,t.disable_phone_replacement=o}($||($={}))}(i=t.Analytics||(t.Analytics={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(2),r=n(3),s=n(14),a=n(4),l=n(6),c=n(15),u=n(1);!function(e){function t(){return!!e._siteKey}function n(){t()&&i()}function i(){for(var t;t=e._readyCallbacks.shift();)t()}function d(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=Array.prototype.slice.call(arguments,1);return e.replace(/{(\d+)}/g,function(e,t){return"undefined"!=typeof i[t]?i[t]:e})}function p(e,t){var n=r.util.sessionStorage();if(!n)return null;var i=JSON.parse(n.getItem(e));return 1==arguments.length?i:i&&i[t]}function f(){var e=p("comagic-widget:settings","web_host");if(e)return e;for(var t,n,i,o,s=document.getElementsByTagName("script"),a=0;o=s[a];a++)if(t=o.getAttribute("src"),n=U.exec(t),n&&r.util.arrayIndexOf(N,n[0])!==-1)return i=R.exec(t),i&&i[1];return null}function m(){return c.Storage.getItem("_cmg_sitesettings")}function h(e){if(!e||200!==e.status)return void console.log("SiteSettings request failed",e);if(e.responseJSON||(e.responseJSON=JSON.parse(e.responseText)),!e.responseJSON||!e.responseJSON.success)return void console.log("SiteSettings request is not successful",e);var t=e.responseJSON.data;c.Storage.setUniquePostfix(A),t.ttl&&c.Storage.setItem("_cmg_sitesettings",t,t.ttl),g(t)}function g(t){e._siteSettings=t,t.widgets&&Object.getOwnPropertyNames(t.widgets).length&&l.EventBus.fireEvent("ss:waitforloadcorescripts",e,e._siteSettings,I())}function v(e,t){s.ajax({url:e,crossDomain:!0,method:"GET",data:{sk:w(),pl:r.util.getDeviceType().toLowerCase()},complete:t})}function _(){var t=d(M,e._siteSettingsHost||I(),D),n=m();n?g(n):v(t,h.bind(e))}function y(t){e._siteKey=t,n()}function b(e){y(e)}function w(){return e._siteKey}function S(t){e._webHost=new o.essential.URL(t).replace({path:"",query:"",hash:""})}function k(t){e._siteSettingsHost=new o.essential.URL(t).replace({path:"",query:"",hash:""})}function O(e){return!!this._siteSettings&&void e.call(this)}function E(n){t()?n():e._readyCallbacks.push(n)}function P(){return e._host}function I(){var t,n=r.util.sessionStorage();return n&&(t=n.getItem("cmg:comagicWebUrl")),t||(t=e._webHost||(e._webHost=f())),new o.essential.URL(t).toString()}function C(){return{key:w(),host:P(),web_host:I()}}function T(){return j("consultant")}function A(){return w().substring(0,5)}function j(t){return e._siteSettings[t]||e._siteSettings.widgets&&e._siteSettings.widgets[t]}function x(){if(e._siteSettings.server_url){for(var t,n=P()||e._siteSettings.server_url,i=new o.essential.URL(n),r=[],s=i.path.split("/"),a=0,l=s.length;t=s[a],a<l;a++)"comagic"!==t&&r.push(t);return 1===r.length&&r.push(""),i.replace({path:r.join("/"),protocol:"https"})}}window.__cs_onReplacePhones=window.__cs_onReplacePhones||function(e){return!0};var N=["cs.min.js","comagic.min.js","comagic.debug.js","main.debug.js"],U=/[^\/]+\.js/,R=/\/\/([^\/]+)/,M="{0}{1}",D="/ss/settings/";e._webHost=null,e._siteSettingsHost=null,e._siteKey=null,e._host=null,e._readyCallbacks=[],e.init=_,e.__commands=["setAccount","setCsAccount","setWebUrl","waitForSiteSettingsAndRun","setSiteSettingsHost"],e.setAccount=y,e.setCsAccount=b,e.getSiteKey=w,e.setWebUrl=S,e.setSiteSettingsHost=k,e.waitForSiteSettingsAndRun=O,e.ready=E,e.getHost=P,e.getWebHost=I,e.info=C,e.getConsultantParams=T,e.uniquePostfix=A,e.params=j,e.getServerBaseUrl=x,E(function(){a.CookieShop.setup(),a.CookieShop.setUniquePostfix(A),c.Storage.setUniquePostfix(A),r.util.setDebug()}),u.Queue.registerAndProcess(e.__commands,e,!0)}(i=t.SiteSettings||(t.SiteSettings={}))},function(e,t,n){"use strict";function i(){for(var e=null,t=0;t<s.length;t++){try{e=s[t]()}catch(e){continue}break}return e}function o(e,t){r.essential.isObject(e)&&(t=e,e=t.url),e=new r.essential.URL(e).toString(),t=t||{};var n=i(),o=t.data,s=t.complete;if(n){var a=t.method||(o?"POST":"GET");"GET"===a&&o&&(e=new r.essential.URL(e).replace({query:o}),o=void 0),n.open(a,e,!0),"POST"===a&&o&&(t.headers||n.setRequestHeader("Content-type",t.contentType||"application/x-www-form-urlencoded; charset=UTF-8")),n.onreadystatechange=function(){4==n.readyState&&(200!=n.status&&304!=n.status||s&&t.complete(n))},4!=n.readyState&&n.send(o)}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),s=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];t.ajax=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(3);!function(e){function t(e){a=e()}function n(e){return e+a}function i(e){var t=JSON.parse(o.util.localStorage().getItem(n(e)));return t&&"__value__"in t?t.__expires__&&t.__expires__<o.util.dnow()?(s(e),null):t.__value__:t}function r(e,t,i){t=void 0===t?null:t,o.util.localStorage().setItem(n(e),JSON.stringify({__value__:t,__expires__:i&&i+o.util.dnow()}))}function s(e){o.util.localStorage().removeItem(n(e))}var a;e.setUniquePostfix=t,e.makeKey=n,e.getItem=i,e.setItem=r,e.removeItem=s}(i=t.Storage||(t.Storage={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(3);!function(e){function t(e){r.log("[UA]",".detect(",e,")"),e&&(this.callback=e);try{window[window.GoogleAnalyticsObject](r.bind(this.onReady,this))}catch(e){this.haveToTryAgain()?(r.log("[UA]","Unable to detect UA Client ID. Next try in",a,"ms"),window.setTimeout(r.bind(this.detect,this),a)):r.log("[UA]","Unable to detect UA Client ID. Drop it (")}}function n(e){try{r.log("[UA]",".onReady()"),this.clientId=e?e.get("clientId"):window[window.GoogleAnalyticsObject].getAll()[0].get("clientId"),r.log("[UA]","clientId detected. Going to run the callback..."),this.callback&&this.callback(this.clientId),r.log("[UA]","callback has run")}catch(e){r.log("[UA]","Can't detect UA Client ID or callback failed",e)}}function i(){return r.getTimestamp()-s<l}var r=o.util,s=r.getTimestamp();e.clientId="";var a=300,l=5;e.detect=t,e.onReady=n,e.haveToTryAgain=i}(i=t.UA||(t.UA={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o,r=n(3),s=n(11),a=n(15),l=n(4),c=n(1),u=n(6),d=n(18),p=n(19),f=n(21),m=n(13),h=r.util,g=u.EventBus,v=l.CookieShop,_=!1,y=p.DynamicalTracking,b=f.PhoneReplacer;!function(e){function t(){return i.getItem("_cmg_phr")!==!1}function n(e){i.setItem("_cmg_phr",!!e)}function o(e){i.setItem("_cmg_phones",e)}function r(){i.removeItem("_cmg_phones")}function a(e){if("2"==v.get(v.ALY_OFFLINE))return h.log("[CallTracking]","Offline. Stop working");if(i.getItem("_cmg_phones")&&this.getEnabled()){var t=i.getItem("_cmg_phones");h.log("[CallTracking]","About to replace phones from local storage",t),b.embed(t,void 0,e),y.loadCookie(),y.showPhones(e)}}function l(e){h.log("[CallTracking]",".setDynamicalReplacement]",e),_!=e&&(_=!!e,_?d.startObserve():d.stopObserve())}function c(e,t){h.log("[CallTracking]",".onAlyTrackview",e,t),s.ready(function(){if("pr"in t&&n(t.pr),b.embedDefault(),"pt"in t){var e=b.formatPhones(t.pt);o(e),t.pr&&b.embed(e)}else r();"dp"in t?(y.setup(t.dp,t.dt,t.da),y.saveCookie(),t.pr&&y.showPhones()):y.delCookie()})}function u(e){t()&&y.hidePhones()}function p(e,t){this.setEnabled(!0),this.replacePhonesFromStorage()}function f(e,t){this.setEnabled(!1),b.embedDefault()}function m(e,t){y.hidePhones(t.numb)}function g(e){for(var t=[],n=["SCRIPT","HEAD"],i=0,o=e;i<o.length;i++){var r=o[i];[].forEach.call(r.addedNodes,function(e){n.indexOf(e.nodeName)===-1&&(e.parentElement?"HEAD"!==e.parentElement.nodeName&&t.push(e[0]?e[0]:e):t.push(e[0]?e[0]:e))})}t.length&&this.replacePhonesFromStorage(t.length<100?t:void 0)}e.__commands=["setDynamicalReplacement"],e.getEnabled=t,e.setEnabled=n,e.storePhones=o,e.removePhones=r,e.replacePhonesFromStorage=a,e.setDynamicalReplacement=l,e.onAlyTrackview=c,e.onAlyStopSession=u,e.onAlyEnablePhoneReplacement=p,e.onAlyDisablePhoneReplacement=f,e.onAlyHideDtPhone=m,e.onMutationObserverChange=g}(o=t.CallTracking||(t.CallTracking={})),m.SiteSettings.ready(function(){i=a.Storage,s.contentLoaded(function(){_&&d.startObserve(),c.Queue.registerAndProcess(o.__commands,o,!0)})}),g.on({"aly:stopsession":o.onAlyStopSession,"aly:enable_phone_replacement":o.onAlyEnablePhoneReplacement,"aly:disable_phone_replacement":o.onAlyDisablePhoneReplacement,"aly:hide_dt_phones":o.onAlyHideDtPhone,"mutationobserver:change":o.onMutationObserverChange,scope:o})},function(e,t,n){"use strict";function i(){l=new MutationObserver(a),l.observe(document.documentElement,s)}function o(){l&&l.disconnect()}Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),s={childList:!0,subtree:!0},a=function(e){l.disconnect(),r.EventBus.fireEvent("mutationobserver:change",e),l.observe(document.documentElement,s)},l=null;t.startObserve=i,t.stopObserve=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(2),r=n(3),s=n(1),a=n(4),l=n(20),c=n(21),u=n(15);!function(e){function t(e,t,n){r.util.log("[DynamicalTracking]",".setup(",e,t,n,")"),this.cleanupProlongationMonitoring(),this.phones=b(e)||null,this.ttl=t||null,this.reserveTime=r.util.getTimestamp(),this.dtActivityInterval=n,this.expire=(new Date).getTime()+O._expires[I],E.startWatch()}function n(){var e=r.util.localStorage();e.setItem(I,this.stringify())}function i(){var e=r.util.localStorage(),t=this.parse(e.getItem(I));(new Date).getTime()<=t.expire?o.essential.apply(this,this.parse(e.getItem(I))):this.delCookie()}function d(){var e=r.util.localStorage();e.removeItem(I)}function p(){var e=this;r.util.log("[DynamicalTracking]",".prolongNumber"),k.push("extendDtPhoneReservationTime",function(t){e.onProlongNumber(t)})}function f(e){r.util.log("[DynamicalTracking]",".onProlongNumber(",e,")"),this.ttl=e,this.reserveTime=r.util.getTimestamp(),e||(this.phones=[]),this.saveCookie(),e&&this.enableProlongationMonitoring()}function m(e){var t=this;r.util.log("[DynamicalTracking]",".waitActivityForProlongNumber",e);var n=this,i=r.util.getTimestamp();A=setInterval(function(){return r.util.getTimestamp()-i>e?void t.disableProlongationMonitoring():void(i<E.lastActivityTime&&(n.disableProlongationMonitoring(),n.prolongNumber()))},100)}function h(){T&&clearTimeout(T),T=void 0,A&&clearInterval(A),A=void 0}function g(){var e=this;r.util.log("[DynamicalTracking]",".enableProlongationMonitoring");var t=this;if(t.cleanupProlongationMonitoring(),t.ttl&&t.dtActivityInterval){var n=t.reserveTime+t.ttl-t.dtActivityInterval-r.util.getTimestamp();r.util.log("[DynamicalTracking]","timeout:",n,"me.reserveTime:",t.reserveTime,"me.ttl:",t.ttl,"me.dtActivityInterval:",t.dtActivityInterval,"now:",r.util.getTimestamp()),n>0?(r.util.log("[DynamicalTracking]","Schedule to check up the visitor activity in ",n,"secs"),T=setTimeout(function(){e.waitActivityForProlongNumber(e.dtActivityInterval)},1e3*n)):t.dtActivityInterval+n>0&&t.waitActivityForProlongNumber(t.dtActivityInterval+n)}else r.util.log("[DynamicalTracking]",".enableProlongationMonitoring","FAILED. me.ttl:",t.ttl,"me.dtActivityInterval:",t.dtActivityInterval)}function v(){r.util.log("[DynamicalTracking]",".disableProlongationMonitoring"),this.cleanupProlongationMonitoring()}function _(e){r.util.log("[DynamicalTracking]",".showPhones(",this.phones,")");var t=this;t.phones&&(t.enableProlongationMonitoring(),P.embed(t.phones,void 0,e))}function y(e){if(r.util.log("[DynamicalTracking]",".hidePhones"),C&&clearInterval(C),C=void 0,this.disableProlongationMonitoring(),e){for(var t=function(t,n){n.raw===e&&P.embed(r.util.arrayFilter(u.Storage.getItem("_cmg_phones"),function(e){return e.id===n.id}))},n=0,i=void 0;i=this.phones[n];n++)t(n,i);this.phones=r.util.arrayFilter(this.phones,function(t){return t.raw!==e}),this.saveCookie()}else this.delCookie(),P.embed(u.Storage.getItem("_cmg_phones"))}function b(e){if(!e)return null;for(var t=0,n=void 0;n=e[t];t++)n.dt=!0;return e}function w(){var e=this;return JSON.stringify({dtai:e.dtActivityInterval,ph:e.phones,ttl:e.ttl,rt:e.reserveTime,expire:e.expire})}function S(e){var t=JSON.parse(e)||{};return{dtActivityInterval:t.dtai,phones:t.ph,ttl:t.ttl,reserveTime:t.rt,expire:t.expire}}var k=s.Queue,O=a.CookieShop,E=l.ActivityMonitor,P=c.PhoneReplacer,I=O.DT,C=(O._expires&&O._expires[I]||0,void 0),T=void 0,A=void 0;e.setup=t,e.saveCookie=n,e.loadCookie=i,e.delCookie=d,e.prolongNumber=p,e.onProlongNumber=f,e.waitActivityForProlongNumber=m,e.cleanupProlongationMonitoring=h,e.enableProlongationMonitoring=g,e.disableProlongationMonitoring=v,e.showPhones=_,e.hidePhones=y,e.addDtFlag=b,e.stringify=w,e.parse=S}(i=t.DynamicalTracking||(t.DynamicalTracking={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(3),r=n(11);!function(e){function t(){e.lastActivityTime=o.util.getTimestamp()}function n(){return r.ons(document.body,e.events.split(" "),o.util.bind(t,this)),e}e.events="mousemove keydown wheel DOMMouseScroll mousewheel mousedown touchstart touchmove MSPointerDown MSPointerMove",e.onActivity=t,e.startWatch=n}(i=t.ActivityMonitor||(t.ActivityMonitor={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(2),r=n(22),s=n(3);!function(e){function t(){var t=[];for(var n in e.defaultPhonesObj)e.defaultPhonesObj.hasOwnProperty(n)&&t.push(e.defaultPhonesObj[n]);return t}function n(t){t.id in e.defaultPhonesObj||(e.defaultPhonesObj[t.id]=t)}function i(e){var t,n,i=[];if(e){for(n=0;n<e.length;n++)t=e[n],!t.img&&t.raw&&(t.text=s.util.formatPhone(t)),i.push(f({},t));e=i}return e}function a(e,t,n,i){var o=document.querySelectorAll(e);!i&&this.addDefaultPhone({id:t,img:r.domhelper.attr(o,"src"),text:null,raw:null}),r.domhelper.attr(o,"src",n)}function l(e,t,n,i,o){var s=[].slice.apply(document.querySelectorAll("a"+e)).filter(function(e){return e.href.indexOf("tel:")!==-1});s.length&&(!o&&this.addDefaultPhone({id:t,img:null,text:r.domhelper.html(s),raw:(r.domhelper.attr(s,"href")||"").split("tel:")[1]}),r.domhelper.html(s,n).attr(s,"href","tel:+"+i));var a=r.domhelper.not(document.querySelectorAll(e),s);a.length&&(!o&&this.addDefaultPhone({id:t,img:null,text:r.domhelper.html(a),raw:null}),r.domhelper.html(a,n))}function c(e,t,n){var i=e.id,o=e.text,r=e.img,a=e.raw;if(i&&0!==i.indexOf("number="))try{var l=s.util.prepareSelector(i);null!==r?this.replacePhoneImage(l,i,r,t):o&&this.replacePhoneText(l,i,o,a,t)}catch(e){}else i&&this.textNodeReplace(e,n)}function u(e,t){var n=e.id.replace("number=",""),i=t&&!e.dt?n:this._replacedNumbers[n]||n,o="\\+?"+i.split("").join("(?:[\\s\\-\\\\(\\)]*)?"),r=new RegExp(o,"g"),s=["SCRIPT"],a=function(e,t){for(var n=0,i=void 0;i=e.childNodes[n];n++)3===i.nodeType?i.data.trim()&&t(i):1===i.nodeType&&s.indexOf(i.tagName)===-1&&a(i,t)},l=function(t){t.nodeValue=t.nodeValue.replace(r,e.text)};if(this._replacedNumbers[n]=e.text.replace(/\D+/g,""),t)for(var c=0;c<t.length;c++)a(t[c],l);else a(document.body,l)}function d(e,t,n){e=this.formatPhones(e);try{if(window.__cs_onReplacePhones&&"function"==typeof window.__cs_onReplacePhones&&!window.__cs_onReplacePhones(e))return}catch(e){s.util.log("[PhoneReplacer]","      : "+e)}if(e)for(var i=0;i<e.length;i++)this.replacePhone(e[i],t,n)}function p(){var e=this.getDefaultPhones();s.util.log("[PhoneReplacer]","embedDefault(",e,")"),e.length&&this.embed(e)}var f=o.essential.apply;e.defaultPhonesObj={},e._replacedNumbers={},e.getDefaultPhones=t,e.addDefaultPhone=n,e.formatPhones=i,e.replacePhoneImage=a,e.replacePhoneText=l,e.replacePhone=c,e.textNodeReplace=u,e.embed=d,e.embedDefault=p}(i=t.PhoneReplacer||(t.PhoneReplacer={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(3),r=n(2),s=n(23);!function(e){function t(e,t,n){if(r.essential.isUndefined(n)){var i;return i=e.length?e[0]:e,i&&i.getAttribute(t)}for(var o,s=0;o=e[s];s++)o.setAttribute(t,n);return this}function n(e,t){e.removeAttribute(t)}function i(e,t){return void 0===t?e.value:void(e.value=t)}function a(e,t){if(r.essential.isUndefined(t))return e[0].innerHTML;for(var n,i=0;n=e[i];i++)n.innerHTML=t;return this}function l(e,t){var n="innerText"in(e[0]||{})?"innerText":"textContent";if(r.essential.isUndefined(t))return e[0][n];for(var i,o=0;i=e[o];o++)i[n]=t;return this}function c(e,t){for(var n,i=[],o=0;n=e[o];o++)t.indexOf(n)===-1&&i.push(n);return i}function u(e){var t=0;if(document.selection){e.focus();var n=document.selection.createRange();n.moveStart("character",-e.value.length),t=n.text.length}else(e.selectionStart||"0"==e.selectionStart)&&(t=e.selectionStart);return t}function d(e,t){if(null!=e)if(e.createTextRange){var n=e.createTextRange();n.move("character",t),n.select()}else e.selectionStart?(e.focus(),e.setSelectionRange(t,t)):e.focus()}function p(e,t){return e.querySelectorAll(t)}function f(e,t){void 0===t&&(t=!0);var n=e.parentNode||e.parentElement;return t===!1?n:!!n&&new s.Element(n)}function m(t,n){if("string"==typeof n)n&&!e.hasClass(t,n)&&(t.className=t.className+" "+n);else for(var i=0,o=n.length;i<o;i++)e.addClass(t,n[i]);return this}function h(e,t){return t&&(" "+e.className+" ").indexOf(" "+t+" ")!==-1}function g(e,t){return void 0===t&&(t=!0),e=e.firstChild,t===!1?e:new s.Element(e)}function v(e,t,n){switch(o.util.typeOf(t)){case"string":break;case"object":t=new s.Element(t),n?(n=new s.Element(n),e.insertBefore(t.dom,n.dom)):e.appendChild(t.dom)}}function _(t,n){void 0===n&&(n=!1);var i=e.parent(t);i&&i.dom&&i.remove(t)}function y(e,t){t=new s.Element(t),e.removeChild(t.dom)}function b(t){for(var n=new s.Element(t),i=0,o=20;i<o;i++){if("none"===n.css("display")||0===n.css("opacity"))return!1;if("body"===n.dom.tagName.toLocaleLowerCase())break;if(n=e.parent(n.dom),!n)return!1}return!0}function w(e,t,n){var i;return"number"!=typeof t?(this.dom.setSelectionRange?(t=e.selectionStart,n=e.selectionEnd):document.selection&&document.selection.createRange&&(i=document.selection.createRange(),t=0-i.duplicate().moveStart("character",-1e5),n=t+i.text.length),{begin:t,end:n}):(n="number"==typeof n?n:t,void(e.setSelectionRange?e.setSelectionRange(t,n):e.createTextRange&&(i=e.createTextRange(),i.collapse(!0),i.moveEnd("character",n),i.moveStart("character",t),i.select())))}e.attr=t,e.removeAttr=n,e.val=i,e.html=a,e.text=l,e.not=c,e.getCaretPosition=u,e.setCaretPosition=d,e.select=p,e.parent=f,e.addClass=m,e.hasClass=h,e.first=g,e.append=v,e.destroy=_,e.remove=y,e.isVisible=b,e.caret=w}(i=t.domhelper||(t.domhelper={}))},function(e,t,n){"use strict";function i(e,t){return t.charAt(1).toUpperCase()}function o(e){return p[e]||(p[e]=e.replace(m,i))}function r(e){var t=0;return e.wheelDelta?t=e.wheelDelta/120:e.detail&&(t=-e.detail/3),t}function s(e,t){return e?(e=e.dom||{},e.id||(e.id=(t||v)+ ++g),e.id):(t||v)+ ++g}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),l=n(22),c="onmousewheel"in document?"mousewheel":"DOMMouseScroll",u={},d=document.defaultView,p={},f=/alpha\(opacity=(.*)\)/gi,m=/(-[a-z])/gi,h=/height|width|margin|padding|left|top|right|bottom/,g=0,v="gen-",_=function(){function e(e){if(e.dom?this.dom=e.dom:this.dom=e,this.dom===document)u.doc?this.events=u.doc.events:(this.events={},u.doc=this);else{var t=this.dom.getAttribute("data-cache-id");t&&u[t]?this.events=u[t].events:(this.events={},t=s(),this.attr("data-cache-id",t),u[t]=this),this.cacheId=t}}return e.prototype.on=function(e,t,n,i){var o,s=this,l=e;switch(n=n||this,a.essential.isString(i)&&(o=i),e){case"mousewheel":e=c;break;case"mouseenter":e="mouseover";break;case"mouseleave":e="mouseout"}var u=function(o){var c=o.target,d=o.fromElement||o.relatedTarget,p=o.toElement||o.target;switch(l){case"mouseenter":if(!d)return;if(s.within(d,"mouseenter"))return;break;case"mouseleave":if(!p)return;if(s.within(p))return}t.apply(n,[o,c,r(o)]),a.essential.isObject(i)&&i.$once&&s.dom.removeEventListener(e,u,!1)};this.dom.addEventListener(e,u,!1),this.events[e]=this.events[e]||[],this.events[e].push({fn:t,wrapperFn:u})},e.prototype.once=function(e,t,n,i){i=i||{},n=n||this,i.$once=!0,this.on(e,t,n,i)},e.prototype.un=function(e,t){for(var n,i,o=this.events[e]||[],r=0,s=o.length;r<s;r++)if(n=o[r],n.fn===t){i=n.wrapperFn;break}i&&(o.splice(r,1),this.dom.removeEventListener(e,i,!1))},e.prototype.within=function(t,n){var i,o=!1,r=!1;return t=new e(t),i=t.attr("id"),i||(i=s(),r=!0,t.attr("id",i)),0===this.select("#"+i).length&&(o=!1),this.dom.id&&this.dom.id===t.dom.id&&(o=!0),r&&t.removeAttr("id"),o},e.prototype.select=function(e){return l.domhelper.select(this.dom,e)},e.prototype.attr=function(e,t){return l.domhelper.attr(this.dom,e,t)},e.prototype.removeAttr=function(e){l.domhelper.removeAttr(this.dom,e)},e.prototype.val=function(e){return l.domhelper.val(this.dom,e)},e.prototype.css=function(e,t){if(""!==e){if(!/:/.test(e))return a.essential.isObject(e)?this.setStyle(e):e&&t?this.setStyle(e,t):e?this.getStyle(e):void 0;for(var n=e.split(";"),i=0,o=n.length;i<o;i++){var r=n[i].split(":"),s=!1;r.length<2||(/!important/.test(r[1])&&(s=!0,r[1]=r[1].replace(" !important","")),this.setStyle(r[0],r[1],s))}}},e.prototype.setStyle=function(e,t,n){var i,r;"object"!=typeof e&&(i={},i[e]=t,e=i);for(r in e)switch(t=e[r],h.test(r)&&!isNaN(Number(t))&&(t+="px"),r){case"border-radius":a.essential.isNumber(t)&&(t+="px"),this.dom.style.BorderRadius=t,this.dom.style.borderRadius=t,this.dom.style.MozBorderRadius=t,this.dom.style.WebkitBorderRadius=t;break;case"float":this.dom.style.styleFloat=t,this.dom.style.cssFloat=t;break;default:this.dom.style[o(r)]=t,n&&this.dom.style&&this.dom.style.setProperty&&this.dom.style.setProperty(r,t,"important")}return this},e.prototype.getStyle=function(e,t){if(d&&d.getComputedStyle){var n=this.dom,i=void 0,r=void 0,s=void 0,a=void 0;return n==document?null:(e=o(e),s=(i=n.style[e])?i:(r=d.getComputedStyle(n,""))?r[e]:null,(/\+|\ /.test(s)||"auto"===s||t)&&void 0!==n.getBoundingClientRect().width?n.getBoundingClientRect()[e]:("marginRight"==e&&"0px"!=s&&(a=n.style.display,n.style.display="inline-block",s=d.getComputedStyle(n,"").marginRight,n.style.display=a),"backgroundColor"==e&&"rgba(0, 0, 0, 0)"==s&&(s="transparent"),s))}var n=this.dom,l=void 0,r=void 0;if(n==document)return null;if("opacity"==e){if(n.style.filter.match&&(l=n.style.filter.match(f))){var c=parseFloat(l[1]);if(!isNaN(c))return c?c/100:0}return 1}return e=o(e),n.style[e]||((r=n.currentStyle)?r[e]:null)},e.prototype.parent=function(e){return l.domhelper.parent(this.dom,e)},e.prototype.isVisible=function(){return l.domhelper.isVisible(this.dom)},e.prototype.addClass=function(e){return l.domhelper.addClass(this.dom,e)},e.prototype.hasClass=function(e){return l.domhelper.hasClass(this.dom,e)},e.prototype.height=function(e){return void 0!==e?(a.essential.isString(e)&&/px/.test(String(e))===!1&&(e+="px"),this.css("height",e),this):parseInt(this.css("height"))},e.prototype.wrap=function(t){t=new e(t);var n=t.parent();this.update(t.dom.outerHTML),n.append(this,t),t.destroy()},e.prototype.remove=function(e){l.domhelper.remove(this.dom,e)},e.prototype.destroy=function(e){void 0===e&&(e=!1),delete u[this.cacheId],l.domhelper.destroy(this.dom,e)},e.prototype.update=function(e){this.dom.innerHTML=e},e.prototype.first=function(e){return void 0===e&&(e=!0),l.domhelper.first(this.dom,e)},e.prototype.append=function(e,t){l.domhelper.append(this.dom,e,t)},e.prototype.caret=function(e,t){return l.domhelper.caret(this.dom,e,t)},e}();t.Element=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(1),r=n(6),s=n(25),a=n(27),l=n(3),c=l.util.createLinkTag,u=n(28),d=l.util.log;!function(e){function t(e,t){a.WidgetManager.activeWidgetGroupList=Object.getOwnPropertyNames(e.widgets).filter(function(t){return null!==e.widgets[t]}),u("list active widget = [",a.WidgetManager.activeWidgetGroupList,"]");for(var r=function(r){e=i(r,e);var l=new s.WidgetLoader(r,t,n(r,e));a.WidgetManager.widgetsOpts[r]=l.getOpts(),l.load(function(e){var t={__commands:["viewControllerReady:"+r]};t["viewControllerReady:"+r]=function(t){t&&t(e,l.getOpts())},o.Queue.registerAndProcess(["viewControllerReady:"+r],t,!0)})},l=0,c=a.WidgetManager.activeWidgetGroupList;l<c.length;l++){var d=c[l];r(d)}}function n(e,t){return t.widgets[e].theme}function i(e,t){return"consultant"===e&&(t.widgets.consultant.theme="mobile"===c()?"":t.widgets.consultant.container.banner_skin),
t.widgets[e].common=t.common,t}function r(e){var t=c();for(var n in e)a.WidgetManager.userInitialWidgetViewsOptions[n]=e[n]&&e[n][t]}var c=l.util.getDeviceType,u=l.util.log;e.__commands=["applyWidgetsOptions"],e.init=t,e.applyWidgetsOptions=r}(i=t.Core||(t.Core={})),o.Queue.registerAndProcess(i.__commands,i,!0),r.EventBus.on("waitforloadstyles",function(e,t){var n=a.WidgetManager.widgetsOpts[e].css;if(n){n=u(n)(t);var i=c(n);t.id?i.id="comagic-"+e+"-"+t.id:i.id="comagic-"+e,i.onload=function(){d("styles was loaded from url "+n),o.Queue.push("viewControllerReady:"+e,function(n,i){r.EventBus.fireEvent(e+":viewcontrollerrun",t,n,i)})},i.onerror=function(){d("error! styles was not loaded from url "+n)},document.head.appendChild(i)}else o.Queue.push("viewControllerReady:"+e,function(n,i){r.EventBus.fireEvent(e+":viewcontrollerrun",t,n,i)})})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(26),o=n(3),r=o.util.log,s=n(14),a=n(27),l=n(2),c=l.essential.mergeObjects,u=function(){function e(e,t,n){this.name=e,this.opts=c(i.getDefaultWidgetOpts(e,t,n),a.WidgetManager.userInitialWidgetViewsOptions[e]),a.WidgetManager.widgetsOpts[e]=this.getOpts()}return e.prototype.getOpts=function(){return this.opts},e.prototype.checkLoad=function(e){var t=this,n=e,i={},o={js:this.opts.js};for(var r in this.opts.tpls)o[r]=this.opts.tpls[r];return function(e,r){var s=!1;for(var a in o)o[a]===e&&("js"!==a&&(i[a]=r||""),o[a]=null),s=s||o[a];!s&&n(i,t.script)}},e.prototype.load=function(e){var t=this,n=this.checkLoad(e);if(this.opts.js&&(this.script=o.util.loadScript(this.opts.js,function(){r("scripts was loaded from url "+t.opts.js),n(t.opts.js)}),this.script.id="comagic-vc-"+this.name),this.opts.tpls){var i=function(e){s.ajax({url:a.opts.tpls[e],method:"GET",contentType:"text/html",complete:function(i){r("html was loaded from url "+t.opts.tpls[e]),n(t.opts.tpls[e],i.response)}})},a=this;for(var l in this.opts.tpls)i(l)}return this.script},e}();t.WidgetLoader=u},function(e,t,n){"use strict";function i(e,t){u=e,d=t}function o(){return"prod"===d?".min.js":".debug.js"}function r(e,t,n){var i={js:"",css:"",tpls:null},o=p.util.getDeviceType();return e&&(e[o]?n?(i.js+=e[o][n].js||"",i.css=e[o][n].css||"",i.tpls=c({},e[o][n].tpls)):(i.tpls=c({},e[o].tpls),i.css=e[o].css||"",i.js=e[o].js||""):f("views for "+t+" options doesn't found")),i}function s(e,t){return new m.essential.URL(t).replace({path:e})}function a(e,t){for(var n in e)e[n]=s(e[n],t);return e}function l(e,t,n){var i=r(u[e],e,n);return i.js=""+s(i.js,t)+o(),i.css=s(i.css,t),i.tpls=a(i.tpls,t),i.beforeViewControllerRun=function(e,t){return{settings:e,tpls:t}},i.afterViewControllerRun=function(){},i}var c=this&&this.__assign||Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e};Object.defineProperty(t,"__esModule",{value:!0});var u,d,p=n(3),f=p.util.log,m=n(2);t.init=i,t.getPostfixWidgetUrl=o,t.getWidgetOptionsForCurrentDevice=r,t.getDefaultWidgetOpts=l},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n;!function(e){function t(t,n){e.registeredWidgetsCollection[t]=n}function n(t){return e.registeredWidgetsCollection[t]}function i(t){if(e.createdWidgets[t])for(var n=0;n<e.createdWidgets[t].length;n++)e.createdWidgets[t][n].destroy();e.createdWidgets[t]=[]}function o(){for(var t in e.createdWidgets)i(t)}e.WIDGETS_GROUP={consultant:["consultant_chat","consultant_sitephone","consultant_offline_message"],personal_form:["personal_form"],call_generator:["call_generator"],offline_message_generator:["offline_message_generator"],sitephone:["sitephone"]},e.registeredWidgetsCollection={},e.createdWidgets={},e.destroyedWidgetsCollection=[],e.userInitialWidgetViewsOptions={},e.widgetsOpts={},e.customWidgetsList=[],e.register=t,e.getWidget=n,e.destroyWidgetsByGroup=i,e.destroyWidgets=o}(n=t.WidgetManager||(t.WidgetManager={}))},function(e,t,n){(function(t){function i(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function o(e,t){for(var n=-1,i=e?e.length:0,o=Array(i);++n<i;)o[n]=t(e[n],n,e);return o}function r(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function s(e,t){return o(t,function(t){return e[t]})}function a(e){return"\\"+K[e]}function l(e,t){return function(n){return e(t(n))}}function c(e,t){var n=de(e)||k(e)?r(e.length,String):[],i=n.length,o=!!i;for(var s in e)!t&&!ie.call(e,s)||o&&("length"==s||_(s,i))||n.push(s);return n}function u(e,t,n,i){return void 0===e||S(e,ne[n])&&!ie.call(i,n)?t:e}function d(e,t,n){var i=e[t];ie.call(e,t)&&S(i,n)&&(void 0!==n||t in e)||(e[t]=n)}function p(e){if(!b(e))return ae(e);var t=[];for(var n in Object(e))ie.call(e,n)&&"constructor"!=n&&t.push(n);return t}function f(e){if(!T(e))return w(e);var t=b(e),n=[];for(var i in e)("constructor"!=i||!t&&ie.call(e,i))&&n.push(i);return n}function m(e,t){return t=le(void 0===t?e.length-1:t,0),function(){for(var n=arguments,o=-1,r=le(n.length-t,0),s=Array(r);++o<r;)s[o]=n[t+o];o=-1;for(var a=Array(t+1);++o<t;)a[o]=n[o];return a[t]=s,i(e,this,a)}}function h(e){if("string"==typeof e)return e;if(j(e))return ue?ue.call(e):"";var t=e+"";return"0"==t&&1/e==-L?"-0":t}function g(e,t,n,i){n||(n={});for(var o=-1,r=t.length;++o<r;){var s=t[o],a=i?i(n[s],e[s],s,n,e):void 0;d(n,s,void 0===a?e[s]:a)}return n}function v(e){return m(function(t,n){var i=-1,o=n.length,r=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(r=e.length>3&&"function"==typeof r?(o--,r):void 0,s&&y(n[0],n[1],s)&&(r=o<3?void 0:r,o=1),t=Object(t);++i<o;){var a=n[i];a&&e(t,a,i,r)}return t})}function _(e,t){return t=null==t?F:t,!!t&&("number"==typeof e||J.test(e))&&e>-1&&e%1==0&&e<t}function y(e,t,n){if(!T(n))return!1;var i=typeof t;return!!("number"==i?O(n)&&_(t,n.length):"string"==i&&t in n)&&S(n[t],e)}function b(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||ne;return e===n}function w(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}function S(e,t){return e===t||e!==e&&t!==t}function k(e){return E(e)&&ie.call(e,"callee")&&(!se.call(e,"callee")||oe.call(e)==W)}function O(e){return null!=e&&C(e.length)&&!I(e)}function E(e){return A(e)&&O(e)}function P(e){return!!A(e)&&(oe.call(e)==H||"string"==typeof e.message&&"string"==typeof e.name)}function I(e){var t=T(e)?oe.call(e):"";return t==B||t==V}function C(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=F}function T(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function A(e){return!!e&&"object"==typeof e}function j(e){return"symbol"==typeof e||A(e)&&oe.call(e)==q}function x(e){return null==e?"":h(e)}function N(e){return O(e)?c(e):p(e)}function U(e){return O(e)?c(e,!0):f(e)}function R(e,t,n){var i=D.imports._.templateSettings||D;n&&y(e,t,n)&&(t=void 0),e=x(e),t=pe({},t,i,u);var o,r,l=pe({},t.imports,i.imports,u),c=N(l),d=s(l,c),p=0,f=t.interpolate||Z,m="__p += '",h=RegExp((t.escape||Z).source+"|"+f.source+"|"+(f===M?Y:Z).source+"|"+(t.evaluate||Z).source+"|$","g"),g="sourceURL"in t?"//# sourceURL="+t.sourceURL+"\n":"";e.replace(h,function(t,n,i,s,l,c){return i||(i=s),m+=e.slice(p,c).replace(X,a),n&&(o=!0,m+="' +\n__e("+n+") +\n'"),l&&(r=!0,m+="';\n"+l+";\n__p += '"),i&&(m+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),p=c+t.length,t}),m+="';\n";var v=t.variable;v||(m="with (obj) {\n"+m+"\n}\n"),m=(r?m.replace(z,""):m).replace(G,"$1").replace(Q,"$1;"),m="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(r?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+m+"return __p\n}";var _=fe(function(){return Function(c,g+"return "+m).apply(void 0,d)});if(_.source=m,P(_))throw _;return _}var M=n(29),D=n(30),L=1/0,F=9007199254740991,W="[object Arguments]",H="[object Error]",B="[object Function]",V="[object GeneratorFunction]",q="[object Symbol]",z=/\b__p \+= '';/g,G=/\b(__p \+=) '' \+/g,Q=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Y=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,J=/^(?:0|[1-9]\d*)$/,Z=/($^)/,X=/['\n\r\u2028\u2029\\]/g,K={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},$="object"==typeof t&&t&&t.Object===Object&&t,ee="object"==typeof self&&self&&self.Object===Object&&self,te=$||ee||Function("return this")(),ne=Object.prototype,ie=ne.hasOwnProperty,oe=ne.toString,re=te.Symbol,se=ne.propertyIsEnumerable,ae=l(Object.keys,Object),le=Math.max,ce=re?re.prototype:void 0,ue=ce?ce.toString:void 0,de=Array.isArray,pe=v(function(e,t,n,i){g(t,U(t),e,i)}),fe=m(function(e,t){try{return i(e,void 0,t)}catch(e){return P(e)?e:new Error(e)}});e.exports=R}).call(t,function(){return this}())},function(e,t){var n=/<%=([\s\S]+?)%>/g;e.exports=n},function(e,t,n){(function(t){function i(e){return function(t){return null==e?void 0:e[t]}}function o(e){if("string"==typeof e)return e;if(s(e))return E?E.call(e):"";var t=e+"";return"0"==t&&1/e==-u?"-0":t}function r(e){return!!e&&"object"==typeof e}function s(e){return"symbol"==typeof e||r(e)&&S.call(e)==d}function a(e){return null==e?"":o(e)}function l(e){return e=a(e),e&&f.test(e)?e.replace(p,b):e}var c=n(29),u=1/0,d="[object Symbol]",p=/[&<>"'`]/g,f=RegExp(p.source),m=/<%-([\s\S]+?)%>/g,h=/<%([\s\S]+?)%>/g,g={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},v="object"==typeof t&&t&&t.Object===Object&&t,_="object"==typeof self&&self&&self.Object===Object&&self,y=v||_||Function("return this")(),b=i(g),w=Object.prototype,S=w.toString,k=y.Symbol,O=k?k.prototype:void 0,E=O?O.toString:void 0,P={escape:m,evaluate:h,interpolate:c,variable:"",imports:{_:{escape:l}}};e.exports=P}).call(t,function(){return this}())},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(3),r=n(1),s=n(4),a=n(19),l=n(12),c=n(13),u=n(15),d=n(32),p=n(6),f=n(33);!function(e){function t(t,n,i){e.push(["sendMessage",[t,n,i]])}function n(e){l.Analytics.trackSysEvent(o.util.isObject(e)?e.component_event:e)}function i(e){r.Queue.push(e)}function m(e){this.push(["setAccount",[e]])}function h(e){this.push(["setDynamicalReplacement",[e]])}function g(e){this.push(["setWebUrl",[e]])}function v(e,t){this.push(["sitePhoneCall",[e,t]])}function _(){var e=Comagic.UI.getWidget("consultant_chat");e&&e.isChatAvailable()?Comagic.UI.show("consultant_chat"):Comagic.UI.show("consultant_offline_message")}function y(){Comagic.UI.show("consultant_sitephone")}function b(){Comagic.UI.show("sitephone")}function w(){t("start_visitor_chat")}function S(e,t){this.sendChatByMail(e,t)}function k(e,n){t("send_chat_by_mail",e,n)}function O(e){this.setOperatorRating(e)}function E(e){t("set_operator_rating",{rating:e,comment:null})}function P(){this.notifyWriting()}function I(){t("write_notify",!1)}function C(){this.closeChat()}function T(){t("close_chat")}function A(e,t,n,i){this.push(["trackEvent",[e,t,n,i]])}function j(e,t){this.push(["setProperty",[e,t]])}function x(e,t){this.push(["getProperty",[e,t]])}function N(e,t){this.push(["hasProperty",[e,t]])}function U(e){this.push(["deleteProperty",[e]])}function R(e){this.push(["getUploadUrl",[e]])}function M(){return a.DynamicalTracking.phones}function D(){return ne("_cmg_phones")}function L(e){this.push(["setOperatorId",[e]])}function F(){return s.CookieShop.getSessionId()}function W(){return s.CookieShop.getVisitorId()}function H(e){t("track_lead_show",{action_type:e.action_type,action_log_id:e.action_log_id})}function B(e,n,i){t("submit_lead_form",{log_id:e,data:n},i)}function V(e){t("cancel_lead_form",{log_id:e})}function q(e){t("on_timer_up",{scenario_id:e})}function z(){return{site_key:te(),visitor_id:Number(this.getVisitorId()),hit_id:Number(K()),session_id:Number(this.getSessionId()),consultant_server_url:$(),comagic_id:ee()}}function G(e){o.util.setDebug(e)}function Q(e,t){p.EventBus.on("api:"+e,t)}function Y(e,t){void 0===t&&(t={}),d.ComagicWebApi.request("get_captcha",t,e)}function J(e){}function Z(){return o.util.getDeviceType()}function X(e){return o.util.tformat(e)}var K=l.Analytics.getHitId,$=c.SiteSettings.getServerBaseUrl,ee=l.Analytics.getComagicId,te=c.SiteSettings.getSiteKey,ne=u.Storage.getItem;e.sendMessage=t,e.trackSysEvent=n,e.push=i,e.setAccount=m,e.setDynamicalReplacement=h,e.setWebUrl=g,e.sitePhoneCall=v,e.openChatWindow=_,e.openSitePhonePanel=y,e.openVASitePhonePanel=b,e.openSiteRequestPanel=function(){Comagic.UI.show("consultant_offline_message")},e.startVisitorChat=w,e.onSendChatByMail=S,e.sendChatByMail=k,e.onOperatorRate=O,e.setOperatorRating=E,e.onChatTyping=P,e.notifyWriting=I,e.onChatClose=C,e.closeChat=T,e.trackEvent=A,e.setProperty=j,e.getProperty=x,e.hasProperty=N,e.deleteProperty=U,e.getUploadUrl=R,e.getDTPhones=M,e.getPhones=D,e.setOperatorId=L,e.getSessionId=F,e.getVisitorId=W,e.trackLeadShow=H,e.onLeadFormSubmit=B,e.onLeadFormCancel=V,e.onLeadTimerUp=q,e.getCredentials=z,e.setDebug=G,e.on=Q,e.getCaptcha=Y,e.onOperatorStatusChange=J,e.getDeviceType=Z,e.tformat=X,e.visitorCard=new f.DictStorage("vvc")}(i=t.API||(t.API={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(14);!function(e){function t(e){i=e}function n(e,t,n){o.ajax({url:i,crossDomain:!0,data:JSON.stringify({method:e,params:t||{}}),type:"POST",dataType:"json",headers:{"Content-Type":"application/json"},complete:function(e){var t;"application/json"===e.getResponseHeader("Content-Type")?(t=JSON.parse(e.response),n(t.result)):(t=e.response,n(t))}})}var i;e.init=t,e.request=n}(i=t.ComagicWebApi||(t.ComagicWebApi={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(15),o=function(){function e(e,t){void 0===t&&(t=0),this.key="_cmg_"+e,this.ttl=t,i.Storage.getItem(this.key)||i.Storage.setItem(this.key,{},this.ttl)}return e.prototype.getItem=function(e){var t=i.Storage.getItem(this.key);return t[e]},e.prototype.setItem=function(e,t){var n=i.Storage.getItem(this.key);n[e]=t,i.Storage.setItem(this.key,n,this.ttl)},e.prototype.getDict=function(){var e=i.Storage.getItem(this.key);return e},e}();t.DictStorage=o},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_WIDGET_VIEWS_OPTIONS={personal_form:{desktop:{js:"/widget/js/lead/desktop/personal_form",css:"/widget/css/lead_personal_form_desktop-<%=banner_color%>.css",tpls:{personal_form:"/widget/html/lead/desktop/personal_form.html"}},tablet:{js:"/widget/js/lead/desktop/personal_form",css:"/widget/css/lead_personal_form_desktop-<%=banner_color%>.css",tpls:{personal_form:"/widget/html/lead/desktop/personal_form.html"}},mobile:{js:"/widget/js/lead/mobile/personal_form",css:"/widget/css/lead_personal_form_mobile-<%=banner_color_mobile%>.css",tpls:{personal_form:"/widget/html/lead/mobile/personal_form.html"}}},call_generator:{desktop:{js:"/widget/js/lead/desktop/call_generator",css:"/widget/css/lead_call_generator_desktop.css",tpls:{call_generator:"/widget/html/lead/desktop/call_generator.html"}},tablet:{js:"/widget/js/lead/desktop/call_generator",css:"/widget/css/lead_call_generator_desktop.css",tpls:{call_generator:"/widget/html/lead/desktop/call_generator.html"}},mobile:{js:"/widget/js/lead/mobile/call_generator",css:"/widget/css/lead_call_generator_mobile-<%=banner_color_mobile%>.css",tpls:{call_generator:"/widget/html/lead/mobile/call_generator.html"}}},offline_message_generator:{desktop:{js:"/widget/js/lead/desktop/offline_message_generator",css:"/widget/css/lead_offline_message_generator_desktop-<%=banner_color%>.css",tpls:{offline_message_generator:"/widget/html/lead/desktop/offline_message_generator.html"}},tablet:{js:"/widget/js/lead/desktop/offline_message_generator",css:"/widget/css/lead_offline_message_generator_desktop-<%=banner_color%>.css",tpls:{offline_message_generator:"/widget/html/lead/desktop/offline_message_generator.html"}},mobile:{js:"/widget/js/lead/mobile/offline_message_generator",css:"/widget/css/lead_offline_message_generator_mobile-<%=banner_color_mobile%>.css",tpls:{offline_message_generator:"/widget/html/lead/mobile/offline_message_generator.html"}}},consultant:{desktop:{main:{js:"/widget/js/consultant/desktop/main/consultant",css:'/widget/css/consultant_desktop_<%=container["banner_skin"]%>-<%=container["banner_color"]%>.css',tpls:{label_full_size:"/widget/html/consultant/desktop/main/label_full_size.html",label_slider:"/widget/html/consultant/desktop/main/label_slider.html",label_buttons:"/widget/html/consultant/desktop/main/label_buttons.html",minimized_label:"/widget/html/consultant/desktop/main/minimized_label.html",container:"/widget/html/consultant/desktop/main/container.html",vcard:"/widget/html/consultant/desktop/main/vcard.html",chat:"/widget/html/consultant/desktop/main/chat.html",consultant_sitephone:"/widget/html/consultant/desktop/main/consultant_sitephone.html",consultant_offline_message:"/widget/html/consultant/desktop/main/consultant_offline_message.html"}},simple:{js:"/widget/js/consultant/desktop/main/consultant",css:'/widget/css/consultant_desktop_<%=container["banner_skin"]%>-<%=container["banner_color"]%>.css',tpls:{label_full_size:"/widget/html/consultant/desktop/main/label_full_size.html",label_slider:"/widget/html/consultant/desktop/main/label_slider.html",label_buttons:"/widget/html/consultant/desktop/main/label_buttons.html",minimized_label:"/widget/html/consultant/desktop/main/minimized_label.html",container:"/widget/html/consultant/desktop/main/container.html",vcard:"/widget/html/consultant/desktop/main/vcard.html",chat:"/widget/html/consultant/desktop/simple/chat.html",consultant_sitephone:"/widget/html/consultant/desktop/simple/consultant_sitephone.html",consultant_offline_message:"/widget/html/consultant/desktop/main/consultant_offline_message.html"}}},tablet:{main:{js:"/widget/js/consultant/desktop/main/consultant",css:'/widget/css/consultant_desktop_<%=container["banner_skin"]%>-<%=container["banner_color"]%>.css',tpls:{label_full_size:"/widget/html/consultant/desktop/main/label_full_size.html",label_slider:"/widget/html/consultant/desktop/main/label_slider.html",label_buttons:"/widget/html/consultant/desktop/main/label_buttons.html",minimized_label:"/widget/html/consultant/desktop/main/minimized_label.html",container:"/widget/html/consultant/desktop/main/container.html",vcard:"/widget/html/consultant/desktop/main/vcard.html",chat:"/widget/html/consultant/desktop/main/chat.html",consultant_sitephone:"/widget/html/consultant/desktop/main/consultant_sitephone.html",consultant_offline_message:"/widget/html/consultant/desktop/main/consultant_offline_message.html"}},simple:{js:"/widget/js/consultant/desktop/main/consultant",css:'/widget/css/consultant_desktop_<%=container["banner_skin"]%>-<%=container["banner_color"]%>.css',tpls:{label_full_size:"/widget/html/consultant/desktop/main/label_full_size.html",label_slider:"/widget/html/consultant/desktop/main/label_slider.html",label_buttons:"/widget/html/consultant/desktop/main/label_buttons.html",minimized_label:"/widget/html/consultant/desktop/main/minimized_label.html",container:"/widget/html/consultant/desktop/main/container.html",vcard:"/widget/html/consultant/desktop/main/vcard.html",chat:"/widget/html/consultant/desktop/simple/chat.html",consultant_sitephone:"/widget/html/consultant/desktop/simple/consultant_sitephone.html",consultant_offline_message:"/widget/html/consultant/desktop/main/consultant_offline_message.html"}}},mobile:{js:"/widget/js/consultant/mobile/consultant",css:'/widget/css/consultant_mobile-<%=container["banner_color"]%>.css',tpls:{container:"/widget/html/consultant/mobile/container.html",slider:"/widget/html/consultant/mobile/slider.html",vcard:"/widget/html/consultant/mobile/vcard.html",chat_invitation:"/widget/html/consultant/mobile/chat_invitation.html",chat_mail:"/widget/html/consultant/mobile/chat_mail.html",chat:"/widget/html/consultant/mobile/chat.html",consultant_sitephone:"/widget/html/consultant/mobile/consultant_sitephone.html",consultant_offline_message:"/widget/html/consultant/mobile/consultant_offline_message.html"}}},sitephone:{desktop:{js:"/widget/js/sitephone/desktop/sitephone",css:"/widget/css/sitephone_desktop-<%=widget_color%>.css",tpls:{sitephone:"/widget/html/sitephone/desktop/sitephone.html",sitephone_label:"/widget/html/sitephone/desktop/sitephone_label.html"}},tablet:{js:"/widget/js/sitephone/desktop/sitephone",css:"/widget/css/sitephone_desktop-<%=widget_color%>.css",tpls:{sitephone:"/widget/html/sitephone/desktop/sitephone.html",sitephone_label:"/widget/html/sitephone/desktop/sitephone_label.html"}},mobile:{js:"/widget/js/sitephone/mobile/sitephone",css:"/widget/css/sitephone_mobile-<%=widget_color%>.css",tpls:{sitephone:"/widget/html/sitephone/mobile/sitephone.html"}}}}},function(e,t,n){"use strict";function i(e,t){o.EventBus.on(e+":viewcontrollerrun",function(n,i,s){var a=n.id?e+":"+n.id+":fire_event":e+":fire_event",l={__commands:[a]};l[a]=function(e,t){o.EventBus.fireEvent(e,t)};var c=s.beforeViewControllerRun(n,i),u=c.settings,d=c.tpls;t(u,d),s.afterViewControllerRun(window.Comagic.UI),r.Queue.registerAndProcess(l.__commands,l,!0)})}Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),r=n(1);t.registerViewController=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(2),r=n(3),s=n(1),a=n(31);!function(e){function t(t){if(t&&!e.counter)return d||(d=r.util.getTimestamp()),e.counter=window[e.prefix+t],!e.counter&&r.util.getTimestamp()-d<p?void window.setTimeout(function(){e.init(t)},f):void(e.counter&&s.Queue.registerAndProcess(e.__commands,e,!0))}function n(t,n,i,r){if(!e.counter)return!1;o.essential.isArray(n)||(n=[n]);var s=e.counter[t].apply(e.counter,n);i&&i.call(r||e,s)}function i(e){s.Queue.push("callYmApi",["params",e])}function l(t){var n=t.session.ym;if(n){var i={visitorID:{}};i.visitorID[c()]={sessionID:u()},e.init(t.session.ym),e.sendYmCustomParams(i)}}var c=a.API.getVisitorId,u=a.API.getSessionId;e.__commands=["callYmApi"],e.prefix="yaCounter";var d,p=25,f=100;e.init=t,e.callYmApi=n,e.sendYmCustomParams=i,e.run=l}(i=t.Ym||(t.Ym={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(2),r=n(3),s=n(22),a=n(4);!function(e){function t(e){if(e.tg){var t=r.util.prepareSelector(e.tg),n=document.querySelectorAll(t);if(n)try{void 0===i&&(i=s.domhelper.text(n));var o=a.CookieShop.getVisitorId();s.domhelper.text(n,(i||"")+(e.pr?e.pr:"")+(o.length<=+e.tl?o:o.slice(-e.tl)))}catch(e){r.util.log(e)}}}function n(e,n){t(o.essential.apply({},n.ve))}var i;e.embedVisitorId=t,e.run=n}(i=t.VisitorIdEmbedder||(t.VisitorIdEmbedder={}))}]));